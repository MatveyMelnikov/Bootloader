ARM GAS  /tmp/ccIvynVa.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"bootloader_cmd.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "External/bootloader/Src/bootloader_cmd.c"
  18              		.section	.text.send_response,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	send_response:
  25              	.LVL0:
  26              	.LFB2:
   1:External/bootloader/Src/bootloader_cmd.c **** #include "bootloader_cmd.h"
   2:External/bootloader/Src/bootloader_cmd.c **** #include "bootloader_defs.h"
   3:External/bootloader/Src/bootloader_cmd.c **** #include <string.h>
   4:External/bootloader/Src/bootloader_cmd.c **** #include <stdbool.h>
   5:External/bootloader/Src/bootloader_cmd.c **** 
   6:External/bootloader/Src/bootloader_cmd.c **** static char *start_message = "-FlexyPixel Bootloader."
   7:External/bootloader/Src/bootloader_cmd.c ****   " Type '0' for commands list";
   8:External/bootloader/Src/bootloader_cmd.c **** static char *input_prompt = "\r\n>>";
   9:External/bootloader/Src/bootloader_cmd.c **** static char *commands_list_message = "\r\nCommands:\r\n"
  10:External/bootloader/Src/bootloader_cmd.c ****   "Get id of chip - '1';\r\n"
  11:External/bootloader/Src/bootloader_cmd.c ****   "Get bootloader version - '2';\r\n"
  12:External/bootloader/Src/bootloader_cmd.c ****   "Write to memory (2 bytes) - '3';\r\n"
  13:External/bootloader/Src/bootloader_cmd.c ****   "Erase - '4'.";
  14:External/bootloader/Src/bootloader_cmd.c **** static char *id_message = "\r\nChip ID: ";
  15:External/bootloader/Src/bootloader_cmd.c **** static char *bootloader_version_message = "\r\nBootloader version: ";
  16:External/bootloader/Src/bootloader_cmd.c **** 
  17:External/bootloader/Src/bootloader_cmd.c **** static uint8_t uart_buffer[UART_BUFFER_SIZE];
  18:External/bootloader/Src/bootloader_cmd.c **** 
  19:External/bootloader/Src/bootloader_cmd.c **** // Static functions ----------------------------------------------------------
  20:External/bootloader/Src/bootloader_cmd.c **** 
  21:External/bootloader/Src/bootloader_cmd.c **** __attribute__((always_inline))
  22:External/bootloader/Src/bootloader_cmd.c **** inline static void swap(uint8_t *a, uint8_t *b)
  23:External/bootloader/Src/bootloader_cmd.c **** {
  24:External/bootloader/Src/bootloader_cmd.c ****   *a = *a ^ *b;
  25:External/bootloader/Src/bootloader_cmd.c ****   *b = *a ^ *b;
  26:External/bootloader/Src/bootloader_cmd.c ****   *a = *b ^ *a;
  27:External/bootloader/Src/bootloader_cmd.c **** }
  28:External/bootloader/Src/bootloader_cmd.c **** 
  29:External/bootloader/Src/bootloader_cmd.c **** __attribute__((always_inline))
  30:External/bootloader/Src/bootloader_cmd.c **** inline static uint8_t int_to_string(uint8_t *const buffer, uint32_t num)
  31:External/bootloader/Src/bootloader_cmd.c **** {
  32:External/bootloader/Src/bootloader_cmd.c ****   int i = 0;
ARM GAS  /tmp/ccIvynVa.s 			page 2


  33:External/bootloader/Src/bootloader_cmd.c ****     
  34:External/bootloader/Src/bootloader_cmd.c ****   do {
  35:External/bootloader/Src/bootloader_cmd.c ****     buffer[i++] = num % 10 + '0';
  36:External/bootloader/Src/bootloader_cmd.c ****     num /= 10;
  37:External/bootloader/Src/bootloader_cmd.c ****   } while (num > 0);
  38:External/bootloader/Src/bootloader_cmd.c ****   buffer[i] = '\0';
  39:External/bootloader/Src/bootloader_cmd.c **** 
  40:External/bootloader/Src/bootloader_cmd.c ****   // Reverse string
  41:External/bootloader/Src/bootloader_cmd.c ****   int j = 0;
  42:External/bootloader/Src/bootloader_cmd.c ****   while (j < i / 2) {
  43:External/bootloader/Src/bootloader_cmd.c ****     swap(buffer + j, buffer + (i - j - 1));
  44:External/bootloader/Src/bootloader_cmd.c ****     j++;
  45:External/bootloader/Src/bootloader_cmd.c ****   }
  46:External/bootloader/Src/bootloader_cmd.c **** 
  47:External/bootloader/Src/bootloader_cmd.c ****   return i;
  48:External/bootloader/Src/bootloader_cmd.c **** }
  49:External/bootloader/Src/bootloader_cmd.c **** 
  50:External/bootloader/Src/bootloader_cmd.c **** static void send_response(bootloader_status status)
  51:External/bootloader/Src/bootloader_cmd.c **** {
  27              		.loc 1 51 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  52:External/bootloader/Src/bootloader_cmd.c ****   if (status)
  32              		.loc 1 52 3 view .LVU1
  53:External/bootloader/Src/bootloader_cmd.c ****     uart_buffer[0] = NACK_BYTE;
  33              		.loc 1 53 20 is_stmt 0 view .LVU2
  34 0000 0028     		cmp	r0, #0
  35 0002 0CBF     		ite	eq
  36 0004 5523     		moveq	r3, #85
  37 0006 AA23     		movne	r3, #170
  38 0008 0248     		ldr	r0, .L4
  39              	.LVL1:
  54:External/bootloader/Src/bootloader_cmd.c ****   else
  55:External/bootloader/Src/bootloader_cmd.c ****     uart_buffer[0] = ACK_BYTE;
  56:External/bootloader/Src/bootloader_cmd.c ****   (void)bootloader_io_write(uart_buffer, 1);
  40              		.loc 1 56 9 view .LVU3
  41 000a 0121     		movs	r1, #1
  42 000c 0370     		strb	r3, [r0]
  43              		.loc 1 56 3 is_stmt 1 view .LVU4
  44              		.loc 1 56 9 is_stmt 0 view .LVU5
  45 000e FFF7FEBF 		b	bootloader_io_write
  46              	.LVL2:
  47              	.L5:
  48 0012 00BF     		.align	2
  49              	.L4:
  50 0014 00000000 		.word	uart_buffer
  51              		.cfi_endproc
  52              	.LFE2:
  54              		.section	.rodata.bootloader_start_output.str1.1,"aMS",%progbits,1
  55              	.LC0:
  56 0000 2D466C65 		.ascii	"-FlexyPixel Bootloader. Type '0' for commands list\000"
  56      78795069 
  56      78656C20 
  56      426F6F74 
  56      6C6F6164 
ARM GAS  /tmp/ccIvynVa.s 			page 3


  57              	.LC1:
  58 0033 0D0A3E3E 		.ascii	"\015\012>>\000"
  58      00
  59              		.section	.text.bootloader_start_output,"ax",%progbits
  60              		.align	1
  61              		.global	bootloader_start_output
  62              		.syntax unified
  63              		.thumb
  64              		.thumb_func
  66              	bootloader_start_output:
  67              	.LFB8:
  57:External/bootloader/Src/bootloader_cmd.c **** }
  58:External/bootloader/Src/bootloader_cmd.c **** 
  59:External/bootloader/Src/bootloader_cmd.c **** static void cmd_help()
  60:External/bootloader/Src/bootloader_cmd.c **** {
  61:External/bootloader/Src/bootloader_cmd.c ****   uint16_t message_size = strlen(commands_list_message) + 1;
  62:External/bootloader/Src/bootloader_cmd.c **** 
  63:External/bootloader/Src/bootloader_cmd.c ****   strncpy((char*)uart_buffer, commands_list_message, message_size);
  64:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, message_size);
  65:External/bootloader/Src/bootloader_cmd.c **** }
  66:External/bootloader/Src/bootloader_cmd.c **** 
  67:External/bootloader/Src/bootloader_cmd.c **** static void cmd_get_id()
  68:External/bootloader/Src/bootloader_cmd.c **** {
  69:External/bootloader/Src/bootloader_cmd.c ****   strncpy((char*)uart_buffer, id_message, strlen(id_message) + 1);
  70:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, strlen(id_message) + 1);
  71:External/bootloader/Src/bootloader_cmd.c **** 
  72:External/bootloader/Src/bootloader_cmd.c ****   uint8_t size = int_to_string(uart_buffer, bootloader_io_get_dev_id());
  73:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, size);
  74:External/bootloader/Src/bootloader_cmd.c **** }
  75:External/bootloader/Src/bootloader_cmd.c **** 
  76:External/bootloader/Src/bootloader_cmd.c **** static void cmd_get_bootloader_version()
  77:External/bootloader/Src/bootloader_cmd.c **** {
  78:External/bootloader/Src/bootloader_cmd.c ****   uint16_t message_size = strlen(bootloader_version_message) + 1;
  79:External/bootloader/Src/bootloader_cmd.c **** 
  80:External/bootloader/Src/bootloader_cmd.c ****   strncpy((char*)uart_buffer, bootloader_version_message, message_size);
  81:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, message_size);
  82:External/bootloader/Src/bootloader_cmd.c **** 
  83:External/bootloader/Src/bootloader_cmd.c ****   uart_buffer[0] = BOOTLOADER_VER_MAJOR;
  84:External/bootloader/Src/bootloader_cmd.c ****   uart_buffer[1] = '.';
  85:External/bootloader/Src/bootloader_cmd.c ****   uart_buffer[2] = BOOTLOADER_VER_MINOR;
  86:External/bootloader/Src/bootloader_cmd.c **** 
  87:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, 3);
  88:External/bootloader/Src/bootloader_cmd.c **** }
  89:External/bootloader/Src/bootloader_cmd.c **** 
  90:External/bootloader/Src/bootloader_cmd.c **** // cmd_0: address (4 bytes)
  91:External/bootloader/Src/bootloader_cmd.c **** // cmd_0: data (2 bytes)
  92:External/bootloader/Src/bootloader_cmd.c **** static bootloader_status cmd_write()
  93:External/bootloader/Src/bootloader_cmd.c **** {
  94:External/bootloader/Src/bootloader_cmd.c ****   uint32_t address = 0;
  95:External/bootloader/Src/bootloader_cmd.c ****   uint16_t data = 0;
  96:External/bootloader/Src/bootloader_cmd.c ****   uint32_t num = 0;
  97:External/bootloader/Src/bootloader_cmd.c ****   bootloader_status status = BOOTLOADER_OK;
  98:External/bootloader/Src/bootloader_cmd.c **** 
  99:External/bootloader/Src/bootloader_cmd.c ****   send_response(status);
 100:External/bootloader/Src/bootloader_cmd.c ****   while (true) {
 101:External/bootloader/Src/bootloader_cmd.c ****     status |= bootloader_io_read(
 102:External/bootloader/Src/bootloader_cmd.c ****       (uint8_t*)&address,
ARM GAS  /tmp/ccIvynVa.s 			page 4


 103:External/bootloader/Src/bootloader_cmd.c ****       sizeof(uint32_t)
 104:External/bootloader/Src/bootloader_cmd.c ****     );
 105:External/bootloader/Src/bootloader_cmd.c ****     if (address == END_SUBSEQUENCE)
 106:External/bootloader/Src/bootloader_cmd.c ****       break;
 107:External/bootloader/Src/bootloader_cmd.c **** 
 108:External/bootloader/Src/bootloader_cmd.c ****     status |= bootloader_io_read((uint8_t*)&data, sizeof(uint16_t));
 109:External/bootloader/Src/bootloader_cmd.c **** 
 110:External/bootloader/Src/bootloader_cmd.c ****     if (status == BOOTLOADER_OK)
 111:External/bootloader/Src/bootloader_cmd.c ****       status |= bootloader_io_program(address, data);
 112:External/bootloader/Src/bootloader_cmd.c **** 
 113:External/bootloader/Src/bootloader_cmd.c ****     send_response(status);
 114:External/bootloader/Src/bootloader_cmd.c ****     if (status)
 115:External/bootloader/Src/bootloader_cmd.c ****       break;
 116:External/bootloader/Src/bootloader_cmd.c ****     num++;
 117:External/bootloader/Src/bootloader_cmd.c ****   }
 118:External/bootloader/Src/bootloader_cmd.c **** 
 119:External/bootloader/Src/bootloader_cmd.c ****   return status;
 120:External/bootloader/Src/bootloader_cmd.c **** }
 121:External/bootloader/Src/bootloader_cmd.c **** 
 122:External/bootloader/Src/bootloader_cmd.c **** // cmd_0: address (4 bytes)
 123:External/bootloader/Src/bootloader_cmd.c **** // cmd_0: pages to erase (1 byte)
 124:External/bootloader/Src/bootloader_cmd.c **** static bootloader_status cmd_erase()
 125:External/bootloader/Src/bootloader_cmd.c **** {
 126:External/bootloader/Src/bootloader_cmd.c ****   uint32_t address = 0;
 127:External/bootloader/Src/bootloader_cmd.c ****   uint8_t page_num = 0;
 128:External/bootloader/Src/bootloader_cmd.c ****   bootloader_status status = BOOTLOADER_OK;
 129:External/bootloader/Src/bootloader_cmd.c **** 
 130:External/bootloader/Src/bootloader_cmd.c ****   send_response(status);
 131:External/bootloader/Src/bootloader_cmd.c ****   status = bootloader_io_read(
 132:External/bootloader/Src/bootloader_cmd.c ****     (uint8_t*)&address,
 133:External/bootloader/Src/bootloader_cmd.c ****     sizeof(uint32_t)
 134:External/bootloader/Src/bootloader_cmd.c ****   );
 135:External/bootloader/Src/bootloader_cmd.c **** 
 136:External/bootloader/Src/bootloader_cmd.c ****   status |= bootloader_io_read(&page_num, sizeof(uint8_t));
 137:External/bootloader/Src/bootloader_cmd.c **** 
 138:External/bootloader/Src/bootloader_cmd.c ****   if (status == BOOTLOADER_OK)
 139:External/bootloader/Src/bootloader_cmd.c ****     status |= bootloader_io_erase(address, page_num);
 140:External/bootloader/Src/bootloader_cmd.c ****   send_response(status);
 141:External/bootloader/Src/bootloader_cmd.c **** 
 142:External/bootloader/Src/bootloader_cmd.c ****   return status;
 143:External/bootloader/Src/bootloader_cmd.c **** }
 144:External/bootloader/Src/bootloader_cmd.c **** 
 145:External/bootloader/Src/bootloader_cmd.c **** // Implementations -----------------------------------------------------------
 146:External/bootloader/Src/bootloader_cmd.c **** 
 147:External/bootloader/Src/bootloader_cmd.c **** bootloader_status bootloader_start_output()
 148:External/bootloader/Src/bootloader_cmd.c **** {
  68              		.loc 1 148 1 is_stmt 1 view -0
  69              		.cfi_startproc
  70              		@ args = 0, pretend = 0, frame = 0
  71              		@ frame_needed = 0, uses_anonymous_args = 0
 149:External/bootloader/Src/bootloader_cmd.c ****   bootloader_status status = bootloader_io_write(
  72              		.loc 1 149 3 view .LVU7
 148:External/bootloader/Src/bootloader_cmd.c ****   bootloader_status status = bootloader_io_write(
  73              		.loc 1 148 1 is_stmt 0 view .LVU8
  74 0000 10B5     		push	{r4, lr}
  75              	.LCFI0:
  76              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccIvynVa.s 			page 5


  77              		.cfi_offset 4, -8
  78              		.cfi_offset 14, -4
  79              		.loc 1 149 30 view .LVU9
  80 0002 3321     		movs	r1, #51
  81 0004 0548     		ldr	r0, .L7
  82 0006 FFF7FEFF 		bl	bootloader_io_write
  83              	.LVL3:
 150:External/bootloader/Src/bootloader_cmd.c ****     (uint8_t*)start_message,
 151:External/bootloader/Src/bootloader_cmd.c ****     strlen(start_message) + 1
 152:External/bootloader/Src/bootloader_cmd.c ****   );
 153:External/bootloader/Src/bootloader_cmd.c ****   status |= bootloader_io_write(
  84              		.loc 1 153 13 view .LVU10
  85 000a 0521     		movs	r1, #5
 149:External/bootloader/Src/bootloader_cmd.c ****     (uint8_t*)start_message,
  86              		.loc 1 149 30 view .LVU11
  87 000c 0446     		mov	r4, r0
  88              	.LVL4:
  89              		.loc 1 153 3 is_stmt 1 view .LVU12
  90              		.loc 1 153 13 is_stmt 0 view .LVU13
  91 000e 0448     		ldr	r0, .L7+4
  92 0010 FFF7FEFF 		bl	bootloader_io_write
  93              	.LVL5:
 154:External/bootloader/Src/bootloader_cmd.c ****     (uint8_t*)input_prompt,
 155:External/bootloader/Src/bootloader_cmd.c ****     strlen(input_prompt) + 1
 156:External/bootloader/Src/bootloader_cmd.c ****   );
 157:External/bootloader/Src/bootloader_cmd.c **** 
 158:External/bootloader/Src/bootloader_cmd.c ****   return status;
  94              		.loc 1 158 3 is_stmt 1 view .LVU14
 153:External/bootloader/Src/bootloader_cmd.c ****     (uint8_t*)input_prompt,
  95              		.loc 1 153 10 is_stmt 0 discriminator 1 view .LVU15
  96 0014 2043     		orrs	r0, r0, r4
  97              	.LVL6:
 159:External/bootloader/Src/bootloader_cmd.c **** }
  98              		.loc 1 159 1 view .LVU16
  99 0016 C0B2     		uxtb	r0, r0
 100 0018 10BD     		pop	{r4, pc}
 101              	.L8:
 102              		.loc 1 159 1 view .LVU17
 103 001a 00BF     		.align	2
 104              	.L7:
 105 001c 00000000 		.word	.LC0
 106 0020 33000000 		.word	.LC1
 107              		.cfi_endproc
 108              	.LFE8:
 110              		.section	.rodata.bootloader_proccess_input.str1.1,"aMS",%progbits,1
 111              	.LC2:
 112 0000 0D0A436F 		.ascii	"\015\012Commands:\015\012Get id of chip - '1';\015\012"
 112      6D6D616E 
 112      64733A0D 
 112      0A476574 
 112      20696420 
 113 0024 47657420 		.ascii	"Get bootloader version - '2';\015\012Write to memor"
 113      626F6F74 
 113      6C6F6164 
 113      65722076 
 113      65727369 
 114 0051 79202832 		.ascii	"y (2 bytes) - '3';\015\012Erase - '4'.\000"
ARM GAS  /tmp/ccIvynVa.s 			page 6


 114      20627974 
 114      65732920 
 114      2D202733 
 114      273B0D0A 
 115              	.LC3:
 116 0072 0D0A4368 		.ascii	"\015\012Chip ID: \000"
 116      69702049 
 116      443A2000 
 117              	.LC4:
 118 007e 0D0A426F 		.ascii	"\015\012Bootloader version: \000"
 118      6F746C6F 
 118      61646572 
 118      20766572 
 118      73696F6E 
 119              		.section	.text.bootloader_proccess_input,"ax",%progbits
 120              		.align	1
 121              		.global	bootloader_proccess_input
 122              		.syntax unified
 123              		.thumb
 124              		.thumb_func
 126              	bootloader_proccess_input:
 127              	.LFB9:
 160:External/bootloader/Src/bootloader_cmd.c **** 
 161:External/bootloader/Src/bootloader_cmd.c **** bootloader_status bootloader_proccess_input()
 162:External/bootloader/Src/bootloader_cmd.c **** {
 128              		.loc 1 162 1 is_stmt 1 view -0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 8
 131              		@ frame_needed = 0, uses_anonymous_args = 0
 163:External/bootloader/Src/bootloader_cmd.c ****   bootloader_status status = bootloader_io_read(uart_buffer, 1);
 132              		.loc 1 163 3 view .LVU19
 162:External/bootloader/Src/bootloader_cmd.c ****   bootloader_status status = bootloader_io_read(uart_buffer, 1);
 133              		.loc 1 162 1 is_stmt 0 view .LVU20
 134 0000 F7B5     		push	{r0, r1, r2, r4, r5, r6, r7, lr}
 135              	.LCFI1:
 136              		.cfi_def_cfa_offset 32
 137              		.cfi_offset 4, -20
 138              		.cfi_offset 5, -16
 139              		.cfi_offset 6, -12
 140              		.cfi_offset 7, -8
 141              		.cfi_offset 14, -4
 142              		.loc 1 163 30 view .LVU21
 143 0002 5F4C     		ldr	r4, .L36
 144 0004 0121     		movs	r1, #1
 145 0006 2046     		mov	r0, r4
 146 0008 FFF7FEFF 		bl	bootloader_io_read
 147              	.LVL7:
 164:External/bootloader/Src/bootloader_cmd.c **** 
 165:External/bootloader/Src/bootloader_cmd.c ****   if (status == BOOTLOADER_TIMEOUT)
 148              		.loc 1 165 6 view .LVU22
 149 000c 0328     		cmp	r0, #3
 163:External/bootloader/Src/bootloader_cmd.c **** 
 150              		.loc 1 163 30 view .LVU23
 151 000e 0546     		mov	r5, r0
 152              	.LVL8:
 153              		.loc 1 165 3 is_stmt 1 view .LVU24
 154              		.loc 1 165 6 is_stmt 0 view .LVU25
ARM GAS  /tmp/ccIvynVa.s 			page 7


 155 0010 17D0     		beq	.L10
 166:External/bootloader/Src/bootloader_cmd.c ****     return status;
 167:External/bootloader/Src/bootloader_cmd.c **** 
 168:External/bootloader/Src/bootloader_cmd.c ****   switch(uart_buffer[0])
 156              		.loc 1 168 3 is_stmt 1 view .LVU26
 157 0012 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 158 0014 303B     		subs	r3, r3, #48
 159 0016 042B     		cmp	r3, #4
 160 0018 0DD8     		bhi	.L18
 161 001a DFE803F0 		tbb	[pc, r3]
 162              	.L13:
 163 001e 03       		.byte	(.L17-.L13)/2
 164 001f 15       		.byte	(.L16-.L13)/2
 165 0020 4C       		.byte	(.L15-.L13)/2
 166 0021 66       		.byte	(.L14-.L13)/2
 167 0022 8F       		.byte	(.L12-.L13)/2
 168 0023 00       		.p2align 1
 169              	.L17:
 169:External/bootloader/Src/bootloader_cmd.c ****   {
 170:External/bootloader/Src/bootloader_cmd.c ****     case CMD_HELP:
 171:External/bootloader/Src/bootloader_cmd.c ****       cmd_help();
 170              		.loc 1 171 7 view .LVU27
 171              	.LBB22:
 172              	.LBI22:
  59:External/bootloader/Src/bootloader_cmd.c **** {
 173              		.loc 1 59 13 view .LVU28
 174              	.LBB23:
  61:External/bootloader/Src/bootloader_cmd.c **** 
 175              		.loc 1 61 3 view .LVU29
 176              	.LVL9:
  63:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, message_size);
 177              		.loc 1 63 3 view .LVU30
 178 0024 5749     		ldr	r1, .L36+4
 179 0026 7222     		movs	r2, #114
 180 0028 5548     		ldr	r0, .L36
 181              	.LVL10:
  63:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, message_size);
 182              		.loc 1 63 3 is_stmt 0 view .LVU31
 183 002a FFF7FEFF 		bl	memcpy
 184              	.LVL11:
  64:External/bootloader/Src/bootloader_cmd.c **** }
 185              		.loc 1 64 3 is_stmt 1 view .LVU32
 186 002e 7221     		movs	r1, #114
 187              	.LVL12:
 188              	.L35:
  64:External/bootloader/Src/bootloader_cmd.c **** }
 189              		.loc 1 64 3 is_stmt 0 view .LVU33
 190              	.LBE23:
 191              	.LBE22:
 192              	.LBB24:
 193              	.LBB25:
  87:External/bootloader/Src/bootloader_cmd.c **** }
 194              		.loc 1 87 3 view .LVU34
 195 0030 5348     		ldr	r0, .L36
 196 0032 FFF7FEFF 		bl	bootloader_io_write
 197              	.LVL13:
 198              	.LBE25:
ARM GAS  /tmp/ccIvynVa.s 			page 8


 199              	.LBE24:
 172:External/bootloader/Src/bootloader_cmd.c ****       break;
 173:External/bootloader/Src/bootloader_cmd.c ****     case CMD_GET_ID:
 174:External/bootloader/Src/bootloader_cmd.c ****       cmd_get_id();
 175:External/bootloader/Src/bootloader_cmd.c ****       break;
 176:External/bootloader/Src/bootloader_cmd.c ****     case CMD_GET_BOOTLOADER_VER:
 177:External/bootloader/Src/bootloader_cmd.c ****       cmd_get_bootloader_version();
 178:External/bootloader/Src/bootloader_cmd.c ****       break;
 200              		.loc 1 178 7 is_stmt 1 view .LVU35
 201              	.L18:
 179:External/bootloader/Src/bootloader_cmd.c ****     case CMD_WRITE:
 180:External/bootloader/Src/bootloader_cmd.c ****       status |= cmd_write();
 181:External/bootloader/Src/bootloader_cmd.c ****       break;
 182:External/bootloader/Src/bootloader_cmd.c ****     case CMD_ERASE:
 183:External/bootloader/Src/bootloader_cmd.c ****       status |= cmd_erase();
 184:External/bootloader/Src/bootloader_cmd.c ****       break;
 185:External/bootloader/Src/bootloader_cmd.c ****   }
 186:External/bootloader/Src/bootloader_cmd.c **** 
 187:External/bootloader/Src/bootloader_cmd.c ****   status |= bootloader_io_write((uint8_t*)input_prompt, 4);
 202              		.loc 1 187 3 view .LVU36
 203              		.loc 1 187 13 is_stmt 0 view .LVU37
 204 0036 0421     		movs	r1, #4
 205 0038 5348     		ldr	r0, .L36+8
 206 003a FFF7FEFF 		bl	bootloader_io_write
 207              	.LVL14:
 208              		.loc 1 187 10 discriminator 1 view .LVU38
 209 003e 2843     		orrs	r0, r0, r5
 210 0040 C5B2     		uxtb	r5, r0
 211              	.LVL15:
 188:External/bootloader/Src/bootloader_cmd.c ****   return status;
 212              		.loc 1 188 3 is_stmt 1 view .LVU39
 213              	.L10:
 189:External/bootloader/Src/bootloader_cmd.c **** }
 214              		.loc 1 189 1 is_stmt 0 view .LVU40
 215 0042 2846     		mov	r0, r5
 216 0044 03B0     		add	sp, sp, #12
 217              	.LCFI2:
 218              		.cfi_remember_state
 219              		.cfi_def_cfa_offset 20
 220              		@ sp needed
 221 0046 F0BD     		pop	{r4, r5, r6, r7, pc}
 222              	.LVL16:
 223              	.L16:
 224              	.LCFI3:
 225              		.cfi_restore_state
 174:External/bootloader/Src/bootloader_cmd.c ****       break;
 226              		.loc 1 174 7 is_stmt 1 view .LVU41
 227              	.LBB27:
 228              	.LBI27:
  67:External/bootloader/Src/bootloader_cmd.c **** {
 229              		.loc 1 67 13 view .LVU42
 230              	.LBB28:
  69:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, strlen(id_message) + 1);
 231              		.loc 1 69 3 view .LVU43
  69:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, strlen(id_message) + 1);
 232              		.loc 1 69 3 is_stmt 0 discriminator 1 view .LVU44
 233 0048 504A     		ldr	r2, .L36+12
ARM GAS  /tmp/ccIvynVa.s 			page 9


 234 004a 4D4E     		ldr	r6, .L36
 235 004c 1368     		ldr	r3, [r2]	@ unaligned
  70:External/bootloader/Src/bootloader_cmd.c **** 
 236              		.loc 1 70 3 discriminator 1 view .LVU45
 237 004e 0C21     		movs	r1, #12
  69:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, strlen(id_message) + 1);
 238              		.loc 1 69 3 discriminator 1 view .LVU46
 239 0050 2360     		str	r3, [r4]	@ unaligned
 240 0052 5368     		ldr	r3, [r2, #4]	@ unaligned
  70:External/bootloader/Src/bootloader_cmd.c **** 
 241              		.loc 1 70 3 discriminator 1 view .LVU47
 242 0054 4A48     		ldr	r0, .L36
 243              	.LVL17:
  69:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, strlen(id_message) + 1);
 244              		.loc 1 69 3 discriminator 1 view .LVU48
 245 0056 6360     		str	r3, [r4, #4]	@ unaligned
 246 0058 9368     		ldr	r3, [r2, #8]	@ unaligned
  72:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, size);
 247              		.loc 1 72 18 view .LVU49
 248 005a 3746     		mov	r7, r6
  69:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, strlen(id_message) + 1);
 249              		.loc 1 69 3 discriminator 1 view .LVU50
 250 005c A360     		str	r3, [r4, #8]	@ unaligned
  70:External/bootloader/Src/bootloader_cmd.c **** 
 251              		.loc 1 70 3 is_stmt 1 view .LVU51
  70:External/bootloader/Src/bootloader_cmd.c **** 
 252              		.loc 1 70 3 is_stmt 0 discriminator 1 view .LVU52
 253 005e FFF7FEFF 		bl	bootloader_io_write
 254              	.LVL18:
  72:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, size);
 255              		.loc 1 72 3 is_stmt 1 view .LVU53
  72:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, size);
 256              		.loc 1 72 18 is_stmt 0 view .LVU54
 257 0062 FFF7FEFF 		bl	bootloader_io_get_dev_id
 258              	.LVL19:
 259              	.LBB29:
 260              	.LBI29:
  30:External/bootloader/Src/bootloader_cmd.c **** {
 261              		.loc 1 30 23 is_stmt 1 view .LVU55
 262              	.LBB30:
  32:External/bootloader/Src/bootloader_cmd.c ****     
 263              		.loc 1 32 3 view .LVU56
  32:External/bootloader/Src/bootloader_cmd.c ****     
 264              		.loc 1 32 7 is_stmt 0 view .LVU57
 265 0066 0021     		movs	r1, #0
  35:External/bootloader/Src/bootloader_cmd.c ****     num /= 10;
 266              		.loc 1 35 23 view .LVU58
 267 0068 4FF00A0C 		mov	ip, #10
 268              	.LVL20:
 269              	.L19:
  34:External/bootloader/Src/bootloader_cmd.c ****     buffer[i++] = num % 10 + '0';
 270              		.loc 1 34 3 is_stmt 1 view .LVU59
  35:External/bootloader/Src/bootloader_cmd.c ****     num /= 10;
 271              		.loc 1 35 5 view .LVU60
  35:External/bootloader/Src/bootloader_cmd.c ****     num /= 10;
 272              		.loc 1 35 23 is_stmt 0 view .LVU61
 273 006c B0FBFCF2 		udiv	r2, r0, ip
ARM GAS  /tmp/ccIvynVa.s 			page 10


 274 0070 0CFB1203 		mls	r3, ip, r2, r0
  35:External/bootloader/Src/bootloader_cmd.c ****     num /= 10;
 275              		.loc 1 35 28 view .LVU62
 276 0074 3033     		adds	r3, r3, #48
  35:External/bootloader/Src/bootloader_cmd.c ****     num /= 10;
 277              		.loc 1 35 17 view .LVU63
 278 0076 07F8013B 		strb	r3, [r7], #1
 279 007a 0346     		mov	r3, r0
  37:External/bootloader/Src/bootloader_cmd.c ****   buffer[i] = '\0';
 280              		.loc 1 37 16 discriminator 1 view .LVU64
 281 007c 092B     		cmp	r3, #9
  36:External/bootloader/Src/bootloader_cmd.c ****   } while (num > 0);
 282              		.loc 1 36 9 view .LVU65
 283 007e 1046     		mov	r0, r2
 284              	.LVL21:
  35:External/bootloader/Src/bootloader_cmd.c ****     num /= 10;
 285              		.loc 1 35 13 view .LVU66
 286 0080 01F10101 		add	r1, r1, #1
 287              	.LVL22:
  36:External/bootloader/Src/bootloader_cmd.c ****   } while (num > 0);
 288              		.loc 1 36 5 is_stmt 1 view .LVU67
  37:External/bootloader/Src/bootloader_cmd.c ****   buffer[i] = '\0';
 289              		.loc 1 37 16 discriminator 1 view .LVU68
 290 0084 F2D8     		bhi	.L19
  38:External/bootloader/Src/bootloader_cmd.c **** 
 291              		.loc 1 38 3 view .LVU69
  38:External/bootloader/Src/bootloader_cmd.c **** 
 292              		.loc 1 38 13 is_stmt 0 view .LVU70
 293 0086 0022     		movs	r2, #0
  42:External/bootloader/Src/bootloader_cmd.c ****     swap(buffer + j, buffer + (i - j - 1));
 294              		.loc 1 42 16 view .LVU71
 295 0088 4810     		asrs	r0, r1, #1
 296              	.LVL23:
  38:External/bootloader/Src/bootloader_cmd.c **** 
 297              		.loc 1 38 13 view .LVU72
 298 008a 6254     		strb	r2, [r4, r1]
  41:External/bootloader/Src/bootloader_cmd.c ****   while (j < i / 2) {
 299              		.loc 1 41 3 is_stmt 1 view .LVU73
 300              	.LVL24:
  42:External/bootloader/Src/bootloader_cmd.c ****     swap(buffer + j, buffer + (i - j - 1));
 301              		.loc 1 42 3 view .LVU74
 302 008c 0C44     		add	r4, r4, r1
 303              	.LVL25:
 304              	.L20:
  42:External/bootloader/Src/bootloader_cmd.c ****     swap(buffer + j, buffer + (i - j - 1));
 305              		.loc 1 42 12 view .LVU75
 306 008e 8242     		cmp	r2, r0
 307 0090 01D1     		bne	.L21
  47:External/bootloader/Src/bootloader_cmd.c **** }
 308              		.loc 1 47 3 view .LVU76
 309              	.LVL26:
  47:External/bootloader/Src/bootloader_cmd.c **** }
 310              		.loc 1 47 3 is_stmt 0 view .LVU77
 311              	.LBE30:
 312              	.LBE29:
  73:External/bootloader/Src/bootloader_cmd.c **** }
 313              		.loc 1 73 3 is_stmt 1 view .LVU78
ARM GAS  /tmp/ccIvynVa.s 			page 11


 314 0092 C9B2     		uxtb	r1, r1
  73:External/bootloader/Src/bootloader_cmd.c **** }
 315              		.loc 1 73 3 is_stmt 0 view .LVU79
 316 0094 CCE7     		b	.L35
 317              	.LVL27:
 318              	.L21:
 319              	.LBB36:
 320              	.LBB35:
  43:External/bootloader/Src/bootloader_cmd.c ****     j++;
 321              		.loc 1 43 5 is_stmt 1 view .LVU80
 322              	.LBB31:
 323              	.LBI31:
  22:External/bootloader/Src/bootloader_cmd.c **** {
 324              		.loc 1 22 20 view .LVU81
 325              	.LBB32:
  24:External/bootloader/Src/bootloader_cmd.c ****   *b = *a ^ *b;
 326              		.loc 1 24 3 view .LVU82
  24:External/bootloader/Src/bootloader_cmd.c ****   *b = *a ^ *b;
 327              		.loc 1 24 6 is_stmt 0 view .LVU83
 328 0096 14F8017D 		ldrb	r7, [r4, #-1]!	@ zero_extendqisi2
 329              	.LVL28:
  24:External/bootloader/Src/bootloader_cmd.c ****   *b = *a ^ *b;
 330              		.loc 1 24 8 view .LVU84
 331 009a 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 332              	.LBE32:
 333              	.LBE31:
  44:External/bootloader/Src/bootloader_cmd.c ****   }
 334              		.loc 1 44 6 view .LVU85
 335 009c 0132     		adds	r2, r2, #1
 336              	.LVL29:
 337              	.LBB34:
 338              	.LBB33:
  24:External/bootloader/Src/bootloader_cmd.c ****   *b = *a ^ *b;
 339              		.loc 1 24 6 view .LVU86
 340 009e 7B40     		eors	r3, r3, r7
 341 00a0 06F8013B 		strb	r3, [r6], #1
  25:External/bootloader/Src/bootloader_cmd.c ****   *a = *b ^ *a;
 342              		.loc 1 25 3 is_stmt 1 view .LVU87
  25:External/bootloader/Src/bootloader_cmd.c ****   *a = *b ^ *a;
 343              		.loc 1 25 6 is_stmt 0 view .LVU88
 344 00a4 2778     		ldrb	r7, [r4]	@ zero_extendqisi2
 345 00a6 7B40     		eors	r3, r3, r7
 346 00a8 2370     		strb	r3, [r4]
  26:External/bootloader/Src/bootloader_cmd.c **** }
 347              		.loc 1 26 3 is_stmt 1 view .LVU89
  26:External/bootloader/Src/bootloader_cmd.c **** }
 348              		.loc 1 26 6 is_stmt 0 view .LVU90
 349 00aa 16F8017C 		ldrb	r7, [r6, #-1]	@ zero_extendqisi2
 350 00ae 7B40     		eors	r3, r3, r7
 351 00b0 06F8013C 		strb	r3, [r6, #-1]
 352              	.LVL30:
  26:External/bootloader/Src/bootloader_cmd.c **** }
 353              		.loc 1 26 6 view .LVU91
 354              	.LBE33:
 355              	.LBE34:
  44:External/bootloader/Src/bootloader_cmd.c ****   }
 356              		.loc 1 44 5 is_stmt 1 view .LVU92
ARM GAS  /tmp/ccIvynVa.s 			page 12


  44:External/bootloader/Src/bootloader_cmd.c ****   }
 357              		.loc 1 44 5 is_stmt 0 view .LVU93
 358 00b4 EBE7     		b	.L20
 359              	.LVL31:
 360              	.L15:
  44:External/bootloader/Src/bootloader_cmd.c ****   }
 361              		.loc 1 44 5 view .LVU94
 362              	.LBE35:
 363              	.LBE36:
 364              	.LBE28:
 365              	.LBE27:
 177:External/bootloader/Src/bootloader_cmd.c ****       break;
 366              		.loc 1 177 7 is_stmt 1 view .LVU95
 367              	.LBB37:
 368              	.LBI24:
  76:External/bootloader/Src/bootloader_cmd.c **** {
 369              		.loc 1 76 13 view .LVU96
 370              	.LBB26:
  78:External/bootloader/Src/bootloader_cmd.c **** 
 371              		.loc 1 78 3 view .LVU97
  80:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, message_size);
 372              		.loc 1 80 3 view .LVU98
 373 00b6 364B     		ldr	r3, .L36+16
 374 00b8 314A     		ldr	r2, .L36
 375 00ba 03F11401 		add	r1, r3, #20
 376              	.LVL32:
 377              	.L22:
  80:External/bootloader/Src/bootloader_cmd.c ****   bootloader_io_write(uart_buffer, message_size);
 378              		.loc 1 80 3 is_stmt 0 view .LVU99
 379 00be 53F8040B 		ldr	r0, [r3], #4	@ unaligned
 380 00c2 8B42     		cmp	r3, r1
 381 00c4 42F8040B 		str	r0, [r2], #4	@ unaligned
 382 00c8 F9D1     		bne	.L22
 383 00ca 1988     		ldrh	r1, [r3]	@ unaligned
 384 00cc 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 385 00ce 1180     		strh	r1, [r2]	@ unaligned
 386 00d0 9370     		strb	r3, [r2, #2]
  81:External/bootloader/Src/bootloader_cmd.c **** 
 387              		.loc 1 81 3 is_stmt 1 view .LVU100
 388 00d2 1721     		movs	r1, #23
 389 00d4 2A48     		ldr	r0, .L36
 390 00d6 FFF7FEFF 		bl	bootloader_io_write
 391              	.LVL33:
  83:External/bootloader/Src/bootloader_cmd.c ****   uart_buffer[1] = '.';
 392              		.loc 1 83 3 view .LVU101
  83:External/bootloader/Src/bootloader_cmd.c ****   uart_buffer[1] = '.';
 393              		.loc 1 83 18 is_stmt 0 view .LVU102
 394 00da 3023     		movs	r3, #48
 395 00dc 2370     		strb	r3, [r4]
  84:External/bootloader/Src/bootloader_cmd.c ****   uart_buffer[2] = BOOTLOADER_VER_MINOR;
 396              		.loc 1 84 3 is_stmt 1 view .LVU103
  84:External/bootloader/Src/bootloader_cmd.c ****   uart_buffer[2] = BOOTLOADER_VER_MINOR;
 397              		.loc 1 84 18 is_stmt 0 view .LVU104
 398 00de 2E23     		movs	r3, #46
 399 00e0 6370     		strb	r3, [r4, #1]
  85:External/bootloader/Src/bootloader_cmd.c **** 
 400              		.loc 1 85 3 is_stmt 1 view .LVU105
ARM GAS  /tmp/ccIvynVa.s 			page 13


  85:External/bootloader/Src/bootloader_cmd.c **** 
 401              		.loc 1 85 18 is_stmt 0 view .LVU106
 402 00e2 3123     		movs	r3, #49
  87:External/bootloader/Src/bootloader_cmd.c **** }
 403              		.loc 1 87 3 view .LVU107
 404 00e4 0321     		movs	r1, #3
  85:External/bootloader/Src/bootloader_cmd.c **** 
 405              		.loc 1 85 18 view .LVU108
 406 00e6 A370     		strb	r3, [r4, #2]
  87:External/bootloader/Src/bootloader_cmd.c **** }
 407              		.loc 1 87 3 is_stmt 1 view .LVU109
 408 00e8 A2E7     		b	.L35
 409              	.LVL34:
 410              	.L14:
  87:External/bootloader/Src/bootloader_cmd.c **** }
 411              		.loc 1 87 3 is_stmt 0 view .LVU110
 412              	.LBE26:
 413              	.LBE37:
 180:External/bootloader/Src/bootloader_cmd.c ****       break;
 414              		.loc 1 180 7 is_stmt 1 view .LVU111
 415              	.LBB38:
 416              	.LBI38:
  92:External/bootloader/Src/bootloader_cmd.c **** {
 417              		.loc 1 92 26 view .LVU112
 418              	.LBB39:
  94:External/bootloader/Src/bootloader_cmd.c ****   uint16_t data = 0;
 419              		.loc 1 94 3 view .LVU113
  94:External/bootloader/Src/bootloader_cmd.c ****   uint16_t data = 0;
 420              		.loc 1 94 12 is_stmt 0 view .LVU114
 421 00ea 0020     		movs	r0, #0
 422              	.LVL35:
 105:External/bootloader/Src/bootloader_cmd.c ****       break;
 423              		.loc 1 105 8 view .LVU115
 424 00ec 4CF63346 		movw	r6, #52275
  94:External/bootloader/Src/bootloader_cmd.c ****   uint16_t data = 0;
 425              		.loc 1 94 12 view .LVU116
 426 00f0 0190     		str	r0, [sp, #4]
  95:External/bootloader/Src/bootloader_cmd.c ****   uint32_t num = 0;
 427              		.loc 1 95 3 is_stmt 1 view .LVU117
  95:External/bootloader/Src/bootloader_cmd.c ****   uint32_t num = 0;
 428              		.loc 1 95 12 is_stmt 0 view .LVU118
 429 00f2 ADF80200 		strh	r0, [sp, #2]	@ movhi
  96:External/bootloader/Src/bootloader_cmd.c ****   bootloader_status status = BOOTLOADER_OK;
 430              		.loc 1 96 3 is_stmt 1 view .LVU119
 431              	.LVL36:
  97:External/bootloader/Src/bootloader_cmd.c **** 
 432              		.loc 1 97 3 view .LVU120
  99:External/bootloader/Src/bootloader_cmd.c ****   while (true) {
 433              		.loc 1 99 3 view .LVU121
 434 00f6 FFF7FEFF 		bl	send_response
 435              	.LVL37:
 436              	.L25:
 100:External/bootloader/Src/bootloader_cmd.c ****     status |= bootloader_io_read(
 437              		.loc 1 100 3 view .LVU122
 101:External/bootloader/Src/bootloader_cmd.c ****       (uint8_t*)&address,
 438              		.loc 1 101 5 view .LVU123
 101:External/bootloader/Src/bootloader_cmd.c ****       (uint8_t*)&address,
ARM GAS  /tmp/ccIvynVa.s 			page 14


 439              		.loc 1 101 15 is_stmt 0 view .LVU124
 440 00fa 0421     		movs	r1, #4
 441 00fc 0DEB0100 		add	r0, sp, r1
 442 0100 FFF7FEFF 		bl	bootloader_io_read
 443              	.LVL38:
 105:External/bootloader/Src/bootloader_cmd.c ****       break;
 444              		.loc 1 105 8 view .LVU125
 445 0104 019B     		ldr	r3, [sp, #4]
 101:External/bootloader/Src/bootloader_cmd.c ****       (uint8_t*)&address,
 446              		.loc 1 101 15 view .LVU126
 447 0106 0446     		mov	r4, r0
 448              	.LVL39:
 105:External/bootloader/Src/bootloader_cmd.c ****       break;
 449              		.loc 1 105 5 is_stmt 1 view .LVU127
 105:External/bootloader/Src/bootloader_cmd.c ****       break;
 450              		.loc 1 105 8 is_stmt 0 view .LVU128
 451 0108 B342     		cmp	r3, r6
 452 010a 13D0     		beq	.L23
 108:External/bootloader/Src/bootloader_cmd.c **** 
 453              		.loc 1 108 5 is_stmt 1 view .LVU129
 108:External/bootloader/Src/bootloader_cmd.c **** 
 454              		.loc 1 108 15 is_stmt 0 view .LVU130
 455 010c 0221     		movs	r1, #2
 456 010e 0DEB0100 		add	r0, sp, r1
 457 0112 FFF7FEFF 		bl	bootloader_io_read
 458              	.LVL40:
 108:External/bootloader/Src/bootloader_cmd.c **** 
 459              		.loc 1 108 12 discriminator 1 view .LVU131
 460 0116 0443     		orrs	r4, r4, r0
 461              	.LVL41:
 110:External/bootloader/Src/bootloader_cmd.c ****       status |= bootloader_io_program(address, data);
 462              		.loc 1 110 5 is_stmt 1 view .LVU132
 110:External/bootloader/Src/bootloader_cmd.c ****       status |= bootloader_io_program(address, data);
 463              		.loc 1 110 8 is_stmt 0 view .LVU133
 464 0118 14F0FF04 		ands	r4, r4, #255
 465              	.LVL42:
 110:External/bootloader/Src/bootloader_cmd.c ****       status |= bootloader_io_program(address, data);
 466              		.loc 1 110 8 view .LVU134
 467 011c 05D1     		bne	.L24
 111:External/bootloader/Src/bootloader_cmd.c **** 
 468              		.loc 1 111 7 is_stmt 1 view .LVU135
 111:External/bootloader/Src/bootloader_cmd.c **** 
 469              		.loc 1 111 17 is_stmt 0 view .LVU136
 470 011e BDF80210 		ldrh	r1, [sp, #2]
 471 0122 0198     		ldr	r0, [sp, #4]
 472 0124 FFF7FEFF 		bl	bootloader_io_program
 473              	.LVL43:
 474 0128 0446     		mov	r4, r0
 475              	.LVL44:
 476              	.L24:
 113:External/bootloader/Src/bootloader_cmd.c ****     if (status)
 477              		.loc 1 113 5 is_stmt 1 view .LVU137
 478 012a 2046     		mov	r0, r4
 479 012c FFF7FEFF 		bl	send_response
 480              	.LVL45:
 114:External/bootloader/Src/bootloader_cmd.c ****       break;
 481              		.loc 1 114 5 view .LVU138
ARM GAS  /tmp/ccIvynVa.s 			page 15


 114:External/bootloader/Src/bootloader_cmd.c ****       break;
 482              		.loc 1 114 8 is_stmt 0 view .LVU139
 483 0130 002C     		cmp	r4, #0
 484 0132 E2D0     		beq	.L25
 485              	.L23:
 119:External/bootloader/Src/bootloader_cmd.c **** }
 486              		.loc 1 119 3 is_stmt 1 view .LVU140
 487              	.LVL46:
 119:External/bootloader/Src/bootloader_cmd.c **** }
 488              		.loc 1 119 3 is_stmt 0 view .LVU141
 489              	.LBE39:
 490              	.LBE38:
 180:External/bootloader/Src/bootloader_cmd.c ****       break;
 491              		.loc 1 180 14 discriminator 1 view .LVU142
 492 0134 45EA0400 		orr	r0, r5, r4
 493 0138 C5B2     		uxtb	r5, r0
 494              	.LVL47:
 181:External/bootloader/Src/bootloader_cmd.c ****     case CMD_ERASE:
 495              		.loc 1 181 7 is_stmt 1 view .LVU143
 496 013a 7CE7     		b	.L18
 497              	.LVL48:
 498              	.L12:
 183:External/bootloader/Src/bootloader_cmd.c ****       break;
 499              		.loc 1 183 7 view .LVU144
 500              	.LBB40:
 501              	.LBI40:
 124:External/bootloader/Src/bootloader_cmd.c **** {
 502              		.loc 1 124 26 view .LVU145
 503              	.LBB41:
 126:External/bootloader/Src/bootloader_cmd.c ****   uint8_t page_num = 0;
 504              		.loc 1 126 3 view .LVU146
 126:External/bootloader/Src/bootloader_cmd.c ****   uint8_t page_num = 0;
 505              		.loc 1 126 12 is_stmt 0 view .LVU147
 506 013c 0020     		movs	r0, #0
 507              	.LVL49:
 126:External/bootloader/Src/bootloader_cmd.c ****   uint8_t page_num = 0;
 508              		.loc 1 126 12 view .LVU148
 509 013e 0190     		str	r0, [sp, #4]
 127:External/bootloader/Src/bootloader_cmd.c ****   bootloader_status status = BOOTLOADER_OK;
 510              		.loc 1 127 3 is_stmt 1 view .LVU149
 127:External/bootloader/Src/bootloader_cmd.c ****   bootloader_status status = BOOTLOADER_OK;
 511              		.loc 1 127 11 is_stmt 0 view .LVU150
 512 0140 8DF80200 		strb	r0, [sp, #2]
 128:External/bootloader/Src/bootloader_cmd.c **** 
 513              		.loc 1 128 3 is_stmt 1 view .LVU151
 514              	.LVL50:
 130:External/bootloader/Src/bootloader_cmd.c ****   status = bootloader_io_read(
 515              		.loc 1 130 3 view .LVU152
 516 0144 FFF7FEFF 		bl	send_response
 517              	.LVL51:
 131:External/bootloader/Src/bootloader_cmd.c ****     (uint8_t*)&address,
 518              		.loc 1 131 3 view .LVU153
 131:External/bootloader/Src/bootloader_cmd.c ****     (uint8_t*)&address,
 519              		.loc 1 131 12 is_stmt 0 view .LVU154
 520 0148 0421     		movs	r1, #4
 521 014a 0DEB0100 		add	r0, sp, r1
 522 014e FFF7FEFF 		bl	bootloader_io_read
ARM GAS  /tmp/ccIvynVa.s 			page 16


 523              	.LVL52:
 136:External/bootloader/Src/bootloader_cmd.c **** 
 524              		.loc 1 136 13 view .LVU155
 525 0152 0121     		movs	r1, #1
 131:External/bootloader/Src/bootloader_cmd.c ****     (uint8_t*)&address,
 526              		.loc 1 131 12 view .LVU156
 527 0154 0446     		mov	r4, r0
 528              	.LVL53:
 136:External/bootloader/Src/bootloader_cmd.c **** 
 529              		.loc 1 136 3 is_stmt 1 view .LVU157
 136:External/bootloader/Src/bootloader_cmd.c **** 
 530              		.loc 1 136 13 is_stmt 0 view .LVU158
 531 0156 0DF10200 		add	r0, sp, #2
 532 015a FFF7FEFF 		bl	bootloader_io_read
 533              	.LVL54:
 136:External/bootloader/Src/bootloader_cmd.c **** 
 534              		.loc 1 136 10 discriminator 1 view .LVU159
 535 015e 0443     		orrs	r4, r4, r0
 536              	.LVL55:
 138:External/bootloader/Src/bootloader_cmd.c ****     status |= bootloader_io_erase(address, page_num);
 537              		.loc 1 138 3 is_stmt 1 view .LVU160
 138:External/bootloader/Src/bootloader_cmd.c ****     status |= bootloader_io_erase(address, page_num);
 538              		.loc 1 138 6 is_stmt 0 view .LVU161
 539 0160 14F0FF04 		ands	r4, r4, #255
 540              	.LVL56:
 138:External/bootloader/Src/bootloader_cmd.c ****     status |= bootloader_io_erase(address, page_num);
 541              		.loc 1 138 6 view .LVU162
 542 0164 05D1     		bne	.L26
 139:External/bootloader/Src/bootloader_cmd.c ****   send_response(status);
 543              		.loc 1 139 5 is_stmt 1 view .LVU163
 139:External/bootloader/Src/bootloader_cmd.c ****   send_response(status);
 544              		.loc 1 139 15 is_stmt 0 view .LVU164
 545 0166 9DF80210 		ldrb	r1, [sp, #2]	@ zero_extendqisi2
 546 016a 0198     		ldr	r0, [sp, #4]
 547 016c FFF7FEFF 		bl	bootloader_io_erase
 548              	.LVL57:
 549 0170 0446     		mov	r4, r0
 550              	.LVL58:
 551              	.L26:
 140:External/bootloader/Src/bootloader_cmd.c **** 
 552              		.loc 1 140 3 is_stmt 1 view .LVU165
 553 0172 2046     		mov	r0, r4
 554              	.LBE41:
 555              	.LBE40:
 183:External/bootloader/Src/bootloader_cmd.c ****       break;
 556              		.loc 1 183 14 is_stmt 0 discriminator 1 view .LVU166
 557 0174 2C43     		orrs	r4, r4, r5
 558              	.LVL59:
 559              	.LBB43:
 560              	.LBB42:
 140:External/bootloader/Src/bootloader_cmd.c **** 
 561              		.loc 1 140 3 view .LVU167
 562 0176 FFF7FEFF 		bl	send_response
 563              	.LVL60:
 142:External/bootloader/Src/bootloader_cmd.c **** }
 564              		.loc 1 142 3 is_stmt 1 view .LVU168
 142:External/bootloader/Src/bootloader_cmd.c **** }
ARM GAS  /tmp/ccIvynVa.s 			page 17


 565              		.loc 1 142 3 is_stmt 0 view .LVU169
 566              	.LBE42:
 567              	.LBE43:
 183:External/bootloader/Src/bootloader_cmd.c ****       break;
 568              		.loc 1 183 14 discriminator 1 view .LVU170
 569 017a E5B2     		uxtb	r5, r4
 570              	.LVL61:
 184:External/bootloader/Src/bootloader_cmd.c ****   }
 571              		.loc 1 184 7 is_stmt 1 view .LVU171
 572 017c 5BE7     		b	.L18
 573              	.L37:
 574 017e 00BF     		.align	2
 575              	.L36:
 576 0180 00000000 		.word	uart_buffer
 577 0184 00000000 		.word	.LC2
 578 0188 33000000 		.word	.LC1
 579 018c 72000000 		.word	.LC3
 580 0190 7E000000 		.word	.LC4
 581              		.cfi_endproc
 582              	.LFE9:
 584              		.section	.bss.uart_buffer,"aw",%nobits
 587              	uart_buffer:
 588 0000 00000000 		.space	120
 588      00000000 
 588      00000000 
 588      00000000 
 588      00000000 
 589              		.text
 590              	.Letext0:
 591              		.file 2 "External/bootloader/Inc/bootloader_defs.h"
 592              		.file 3 "/usr/local/src/arm-gnu-toolchain-13.2/arm-none-eabi/include/machine/_default_types.h"
 593              		.file 4 "/usr/local/src/arm-gnu-toolchain-13.2/arm-none-eabi/include/sys/_stdint.h"
 594              		.file 5 "/usr/local/src/arm-gnu-toolchain-13.2/lib/gcc/arm-none-eabi/13.2.1/include/stddef.h"
 595              		.file 6 "External/bootloader/Inc/bootloader_io.h"
 596              		.file 7 "/usr/local/src/arm-gnu-toolchain-13.2/arm-none-eabi/include/string.h"
 597              		.file 8 "<built-in>"
ARM GAS  /tmp/ccIvynVa.s 			page 18


DEFINED SYMBOLS
                            *ABS*:00000000 bootloader_cmd.c
     /tmp/ccIvynVa.s:19     .text.send_response:00000000 $t
     /tmp/ccIvynVa.s:24     .text.send_response:00000000 send_response
     /tmp/ccIvynVa.s:50     .text.send_response:00000014 $d
     /tmp/ccIvynVa.s:587    .bss.uart_buffer:00000000 uart_buffer
     /tmp/ccIvynVa.s:60     .text.bootloader_start_output:00000000 $t
     /tmp/ccIvynVa.s:66     .text.bootloader_start_output:00000000 bootloader_start_output
     /tmp/ccIvynVa.s:105    .text.bootloader_start_output:0000001c $d
     /tmp/ccIvynVa.s:120    .text.bootloader_proccess_input:00000000 $t
     /tmp/ccIvynVa.s:126    .text.bootloader_proccess_input:00000000 bootloader_proccess_input
     /tmp/ccIvynVa.s:163    .text.bootloader_proccess_input:0000001e $d
     /tmp/ccIvynVa.s:576    .text.bootloader_proccess_input:00000180 $d
     /tmp/ccIvynVa.s:588    .bss.uart_buffer:00000000 $d
     /tmp/ccIvynVa.s:168    .text.bootloader_proccess_input:00000023 $d
     /tmp/ccIvynVa.s:168    .text.bootloader_proccess_input:00000024 $t

UNDEFINED SYMBOLS
bootloader_io_write
bootloader_io_read
memcpy
bootloader_io_get_dev_id
bootloader_io_program
bootloader_io_erase
